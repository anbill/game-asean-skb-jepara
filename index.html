
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game ASEAN | SKB Jepara</title>

<style>
:root{
  --main:#c1121f;
  --second:#003049;
  --bg:#f8f9fa;
  --ok:#2a9d8f;
  --bad:#e63946;
}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:var(--bg);
  text-align:center;
}
.hidden{display:none;}
header{
  background:var(--main);
  color:#fff;
  padding:15px;
}
.card{
  background:#fff;
  margin:20px auto;
  padding:20px;
  max-width:420px;
  border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,.15);
}
button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
  background:var(--second);
  color:#fff;
}
button:hover{opacity:.9}
.correct{background:var(--ok)!important;}
.wrong{background:var(--bad)!important;}
img{max-width:220px;margin:10px 0;}
.timer{
  font-weight:bold;
  color:var(--main);
}
footer{
  margin-top:20px;
  font-size:13px;
  color:#555;
}
</style>
</head>

<body>

<header>
  <h2>SANGGAR KEGIATAN BELAJAR JEPARA</h2>
  <p>Game Edukasi Kerja Sama ASEAN</p>
</header>

<!-- MENU -->
<div id="menu" class="card">
  <h3>Pilih Level</h3>
  <button onclick="startGame('mudah')">Mudah</button>
  <button onclick="startGame('sedang')">Sedang</button>
  <button onclick="startGame('sulit')">Sulit</button>
</div>

<!-- QUIZ TEKS -->
<div id="quiz" class="card hidden">
  <div class="timer">Waktu: <span id="time">15</span> detik</div>
  <h3 id="qTitle"></h3>
  <p id="question"></p>
  <div id="options"></div>
  <p id="info"></p>
</div>

<!-- QUIZ GAMBAR -->
<div id="imageQuiz" class="card hidden">
  <div class="timer">Waktu: <span id="timeImg">15</span> detik</div>
  <h3 id="imgTitle"></h3>
  <img id="img">
  <div id="imgOptions"></div>
</div>

<!-- HASIL -->
<div id="result" class="card hidden">
  <h2>Hasil Akhir</h2>
  <h1 id="finalScore"></h1>
  <p id="grade"></p>
  <button onclick="location.reload()">Main Lagi</button>
</div>

<footer>
  Media Pembelajaran Interaktif ‚Ä¢ ASEAN ‚Ä¢ SKB Jepara
</footer>

<script>
/* ================= DATA ================= */
const quizLevels={
  mudah:[
    {q:"ASEAN didirikan tahun?",o:["1945","1967","2000"],a:1,i:"ASEAN berdiri 8 Agustus 1967"},
    {q:"Indonesia negara pendiri ASEAN?",o:["Ya","Tidak"],a:0,i:"Indonesia termasuk 5 pendiri"}
  ],
  sedang:[
    {q:"Sekretariat ASEAN berada di?",o:["Bangkok","Jakarta","Manila"],a:1,i:"Sekretariat ASEAN di Jakarta"},
    {q:"Kerja sama Indonesia‚ÄìMalaysia di bidang?",o:["Pendidikan","Perang","Olahraga"],a:0,i:"Banyak kerja sama pendidikan"}
  ],
  sulit:[
    {q:"MEA berkaitan dengan bidang?",o:["Ekonomi","Militer","Olahraga"],a:0,i:"MEA = Masyarakat Ekonomi ASEAN"},
    {q:"ASEAN berdiri berapa negara awal?",o:["3","5","10"],a:1,i:"Pendiri awal ada 5 negara"}
  ]
};

const imageQuizData=[
  {t:"Bendera ASEAN",img:"https://upload.wikimedia.org/wikipedia/commons/6/6e/ASEAN_Flag.svg",o:["PBB","ASEAN","G20"],a:1},
  {t:"Monumen ASEAN Jakarta",img:"https://upload.wikimedia.org/wikipedia/commons/4/47/ASEAN_Monument_Jakarta.jpg",o:["Vietnam","Indonesia","Laos"],a:1}
];

/* ================= VAR ================= */
let data=[],i=0,score=0,timer;
let imgI=0,imgScore=0,timerImg;

/* ================= ELEMENT ================= */
const menu=document.getElementById("menu");
const quiz=document.getElementById("quiz");
const imageQuiz=document.getElementById("imageQuiz");
const result=document.getElementById("result");

const qTitle=document.getElementById("qTitle");
const question=document.getElementById("question");
const options=document.getElementById("options");
const info=document.getElementById("info");
const time=document.getElementById("time");

const imgTitle=document.getElementById("imgTitle");
const img=document.getElementById("img");
const imgOptions=document.getElementById("imgOptions");
const timeImg=document.getElementById("timeImg");

const finalScore=document.getElementById("finalScore");
const grade=document.getElementById("grade");

/* ================= GAME ================= */
function startGame(level){
  data=quizLevels[level];
  menu.classList.add("hidden");
  quiz.classList.remove("hidden");
  i=0;score=0;
  loadQuiz();
}

function loadQuiz(){
  clearInterval(timer);
  let t=15;
  time.textContent=t;
  timer=setInterval(()=>{
    t--;time.textContent=t;
    if(t===0){nextQuiz();}
  },1000);

  const q=data[i];
  qTitle.textContent="Soal "+(i+1);
  question.textContent=q.q;
  options.innerHTML="";
  info.textContent="";

  q.o.forEach((op,idx)=>{
    const b=document.createElement("button");
    b.textContent=op;
    b.onclick=()=>check(idx,b);
    options.appendChild(b);
  });
}

function check(idx,btn){
  clearInterval(timer);
  const q=data[i];
  if(idx===q.a){
    score+=10;
    btn.classList.add("correct");
  }else{
    btn.classList.add("wrong");
  }
  info.textContent=q.i;
  setTimeout(nextQuiz,1200);
}

function nextQuiz(){
  i++;
  if(i<data.length){
    loadQuiz();
  }else{
    quiz.classList.add("hidden");
    imageQuiz.classList.remove("hidden");
    loadImgQuiz();
  }
}

/* ================= IMAGE QUIZ ================= */
function loadImgQuiz(){
  clearInterval(timerImg);
  let t=15;
  timeImg.textContent=t;
  timerImg=setInterval(()=>{
    t--;timeImg.textContent=t;
    if(t===0){nextImg();}
  },1000);

  const q=imageQuizData[imgI];
  imgTitle.textContent=q.t;
  img.src=q.img;
  imgOptions.innerHTML="";

  q.o.forEach((op,idx)=>{
    const b=document.createElement("button");
    b.textContent=op;
    b.onclick=()=>checkImg(idx,b);
    imgOptions.appendChild(b);
  });
}

function checkImg(idx,btn){
  clearInterval(timerImg);
  const q=imageQuizData[imgI];
  if(idx===q.a){
    imgScore+=10;
    btn.classList.add("correct");
  }else{
    btn.classList.add("wrong");
  }
  setTimeout(nextImg,1200);
}

function nextImg(){
  imgI++;
  if(imgI<imageQuizData.length){
    loadImgQuiz();
  }else{
    imageQuiz.classList.add("hidden");
    result.classList.remove("hidden");
    const total=score+imgScore;
    finalScore.textContent=total;
    grade.textContent=
      total>=80?"üèÜ Sangat Baik":
      total>=50?"üëç Baik":
      "üìò Perlu Belajar Lagi";
  }
}
</script>

</body>
</html>
